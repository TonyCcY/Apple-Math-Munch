<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <!-- PWA meta tags -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#4CAF50">
    <meta name="description" content="A fun math puzzle game where you match fruits that sum to 10">
    <meta name="application-name" content="Apple Math Munch">
    <meta name="apple-mobile-web-app-title" content="Apple Math Munch">
    
    <title>Apple Math Munch</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="images/icon-192.png">
</head>
<body>
    <div id="game-container">
        <!-- Start Page -->
        <div id="start-page" class="page active">
            <h1>Apple Math Munch</h1>
            <div class="theme-toggle">
                <button id="themeButton" class="theme-button">
                    <span class="light-icon">üåû</span>
                    <span class="dark-icon">üåô</span>
                </button>
            </div>
            <p>Select apples that sum to 10 to score points!</p>
            <div class="fruit-selector">
                <h3>Choose Your Fruit:</h3>
                <div class="fruit-options">
                    <button class="fruit-button active" data-fruit="apple">üçé Apple</button>
                    <button class="fruit-button" data-fruit="orange">üçä Orange</button>
                    <button class="fruit-button" data-fruit="pear">üçê Pear</button>
                    <button class="fruit-button" data-fruit="melon">üçâ Melon</button>
                    <button class="fruit-button" data-fruit="grape">üçá Grape</button>
                    <button class="fruit-button" data-fruit="mango">ü•≠ Mango</button>
                </div>
            </div>
            <div class="start-button-container">
                <button id="startButton" class="big-button">Start Game</button>
            </div>
            <div class="instructions">
                <h2>How to Play:</h2>
                <ul>
                    <li>Draw rectangles to select fruits</li>
                    <li>Selected fruits must sum to 10</li>
                    <li>Each match gives you 1 point per fruit</li>
                    <li>You have 2 minutes to score points</li>
                    <li>Choose your favorite fruit to play with</li>
                    <li>Try to beat your high score!</li>
                </ul>
            </div>
            <div class="github-link">
                <a href="https://github.com/TonyCcY/Apple-Math-Munch" target="_blank">
                    View on GitHub
                </a>
            </div>
        </div>

        <!-- Game Page -->
        <div id="game-page" class="page">
            <div class="canvas-container">
                <canvas id="gameCanvas"></canvas>
            </div>
            <div id="game-info">
                <button id="resetButton" class="game-button">
                    <span>‚Ü∫</span> Reset
                </button>
                <div id="debug-controls" style="display: none;">
                    <button id="tipButton">Show Tip (‚àû)</button>
                    <button id="autoTipButton">Auto Solve (‚àû)</button>
                    <button id="continuousAutoButton">Auto Run</button>
                </div>
            </div>
        </div>

        <!-- Game Over Page -->
        <div id="gameover-page" class="page">
            <h1>Game Over!</h1>
            <div class="final-score">
                <h2>Final Score: <span id="final-score">0</span></h2>
                <p>Highest Score: <span id="high-score">0</span></p>
            </div>
            <button id="playAgainButton" class="big-button">Play Again</button>
            <button id="homeButton" class="big-button home-button">Home</button>
            <button id="clearHighScoreButton" class="clear-score-button">Clear High Score</button>
        </div>
    </div>
    
    <!-- Add this right before the closing </div> of game-container -->
    <div id="popup" class="popup">
        <div class="popup-content">
            <p id="popup-message"></p>
            <button id="popup-close" class="popup-button">OK</button>
        </div>
    </div>
    
    <script src="js/game.js"></script>
</body>
</html> 